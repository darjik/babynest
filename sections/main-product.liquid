{% comment %}
  Main Product Section - Product detail page with variants, images, and description
{% endcomment %}

<div class="product-wrapper">
  <div class="container">
    <div class="product-grid">
      <!-- Product Images -->
      <div class="product-images">
        {% if product.featured_image %}
          <div class="product-gallery">
            <img 
              src="{{ product.featured_image | image_url: width: 800 }}" 
              alt="{{ product.title }}"
              class="product-main-image"
            >
          </div>
        {% endif %}
      </div>

      <!-- Product Info -->
      <div class="product-info">
        <h1 class="product-title">{{ product.title }}</h1>
        
        <div class="product-price">
          {% if product.compare_at_price %}
            <span class="price-original">{{ product.compare_at_price | money }}</span>
          {% endif %}
          <span class="price-current">{{ product.price | money }}</span>
        </div>

        {% if product.description %}
          <div class="product-description">
            {{ product.description }}
          </div>
        {% endif %}

        {% if product.variants.size > 1 %}
          <div class="product-variants">
            <label>Variant:</label>
            <select name="id" id="ProductSelect">
              {% for variant in product.variants %}
                <option value="{{ variant.id }}">
                  {{ variant.title }} - {{ variant.price | money }}
                </option>
              {% endfor %}
            </select>
          </div>
        {% endif %}

        <form method="post" action="/cart/add">
          <input type="hidden" name="id" value="{{ product.variants.first.id }}">
          <div class="product-quantity">
            <label for="Quantity">Quantity:</label>
            <input type="number" id="Quantity" name="quantity" value="1" min="1">
          </div>
          <button type="submit" class="button button--primary button--lg">
            Add to Cart
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<style>
  .product-wrapper {
    padding: var(--space-xl) 0;
  }

  .product-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xxl);
    align-items: start;
  }

  .product-gallery {
    position: sticky;
    top: 20px;
  }

  .product-main-image {
    width: 100%;
    height: auto;
    border-radius: var(--radius-soft);
  }

  .product-title {
    font-size: var(--font-size-h1);
    margin: 0 0 var(--space-lg) 0;
  }

  .product-price {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
    font-size: var(--font-size-lg);
    font-weight: var(--fw-bold);
  }

  .price-original {
    text-decoration: line-through;
    color: var(--color-text-secondary);
  }

  .product-description {
    margin-bottom: var(--space-lg);
    line-height: var(--line-height-relaxed);
  }

  .product-variants,
  .product-quantity {
    margin-bottom: var(--space-lg);
  }

  .product-variants select,
  .product-quantity input {
    width: 100%;
    padding: var(--space-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-soft);
    font-size: var(--font-size-body-md);
  }

  @media (max-width: 768px) {
    .product-grid {
      grid-template-columns: 1fr;
      gap: var(--space-lg);
    }

    .product-gallery {
      position: relative;
      top: auto;
    }

    .product-title {
      font-size: var(--font-size-h2);
    }
  }
</style>

{% schema %}
{
  "name": "Product",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_sticky_info",
      "label": "Enable sticky product info",
      "default": true
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "options": [
        { "value": "scheme-1", "label": "Scheme 1" },
        { "value": "scheme-2", "label": "Scheme 2" }
      ],
      "default": "scheme-1"
    },
    {
      "type": "select",
      "id": "media_size",
      "label": "Media size",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "large"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 12
    }
  ]
}
{% endschema %}
